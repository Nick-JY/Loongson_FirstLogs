## 原子操作(atomic operation)：
#### 1.数据竞争：
- 计算机要不停的执行数以万计的指令，虽然每个CPU一次只能执行一条指令，但是对于多核心计算机来说，一次能够执行很多指令。
- 当某个指令在内存中写的结果是另外一个指令在内存中要读的结果的时候，此时，读取必须发生在写入之后，否则就发生了数据竞争。
#### 2.原子操作：
- 为了解决数据竞争的问题，计算机指令中的普通指令(一条不能化简的指令)全都是原子指令，也就是原子操作。
- 原子取的是物理学中的原子，我们认为原子不能再分(当然现在不成立了)，对于一个原子操作，其他线程无法看到该原子操作的中途内容，即把这个操作当成一个执行的最小单位。
- 为什么这么做，因为不论什么操作指令，再执行的时候都是有时间和步骤的，尽管这很快。
#### 3.指令对形成原子操作、互斥区：
- 有些时候我们希望较复杂的操作也是原子的，即不可分割的，但是多条原子指令组合在一起很大程度上就会产生数据竞争(非原子性)。
- 这时，我们引入了指令对和互斥区的概念：
	- 指令对：我们把一对指令当成一个原子操作。
	- 互斥区：在原子操作中，被唯一处理器(其他处理器无法操作)操作的内存叫互斥区。
	- 当执行起始指令的时候，使用存储器中的某个单元表示一个锁变量(互斥区)，如果该锁变量的值为0，表示该锁变量为解锁状态，此时该原子操作能够操作该互斥区，并把锁变量变为1，即加锁，执行完原子操作的结束指令的时候，对锁变量进行释放，即解锁。