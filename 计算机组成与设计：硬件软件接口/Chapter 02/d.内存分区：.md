# 内存分区：
![](https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/内存分区.png)
- 一般来讲，堆区和栈区是相互生长的，二者共用一个存储区，在此消彼长的过程中达到高效的内存使用。
- 代码区用来存储程序运行时的代码，也就是指令。
- 静态存储区一般用来存储程序运行中的静态数据和全局数据。
- 堆区的内存分配由程序员决定，在程序运行过程中，动态分配的内存就是堆中的内存。
- 栈区的内存分配由编译器决定，当寄存器数量不够的时候或者遇到数组、结构体等数据，编译器将他们存储到栈区，栈区还可用于换出寄存器的操作。
##### 1.栈区、过程帧：
![](https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/栈的内存.png)
- 我们现在假设栈为空，$sp 和 $fp指针都指向栈顶，现在我们push4个数据入栈，栈底存的是数据0，由于我们要存4个字节的数据，因此栈指针要给数据预留出四个字节。
- $sp - 4，这样栈指针就到了新的栈顶的位置，随后把数据存入。
- 现在我们在内存中创建了一块栈区，帧指针指向栈底，栈指针指向栈顶，这两者之间的这一片栈空间我们叫做：过程帧，或者活动记录。
##### 大端寻址与小端寻址：
- 对于32位的机器来讲，每一次从内存中存储或取走的数据大多数都是一个字，那么字的地址是如何定义的呢，并且在这一个字中，四个字节又是怎么排列的呢，大端寻址和小端寻址就是来解决这一问题的。
- 大端寻址指的是，向内存中存储数据的时候，字中的低字节放在高地址，高字节放在低地址，小端寻址与其相反。
- 无论是大端寻址还是小端寻址，每一个字的地址与该字中的字节的低地址相同。
###### a.MIPS-32的大端寻址：
![](https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/未命名文件.jpg)
###### b.其他架构的小端寻址：
![](https://nickaljy-pictures.oss-cn-hangzhou.aliyuncs.com/小端寻址.jpg)